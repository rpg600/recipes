{
    "manifests": {
        "symfony/panther": {
            "manifest": {
                "dockerfile": [
                    "# Chromium and ChromeDriver",
                    "ENV PANTHER_NO_SANDBOX 1",
                    "# Not mandatory, but recommended",
                    "ENV PANTHER_CHROME_ARGUMENTS='--disable-dev-shm-usage'",
                    "RUN apk add --no-cache chromium chromium-chromedriver",
                    "",
                    "# Firefox and geckodriver",
                    "#ARG GECKODRIVER_VERSION=0.29.0",
                    "#RUN apk add --no-cache firefox",
                    "#RUN wget -q https://github.com/mozilla/geckodriver/releases/download/v$GECKODRIVER_VERSION/geckodriver-v$GECKODRIVER_VERSION-linux64.tar.gz; \\",
                    "#\ttar -zxf geckodriver-v$GECKODRIVER_VERSION-linux64.tar.gz -C /usr/bin; \\",
                    "#\trm geckodriver-v$GECKODRIVER_VERSION-linux64.tar.gz"
                ],
                "add-lines": [
                    {
                        "file": "phpunit.xml.dist",
                        "content": "        <extension class=\"Symfony\\Component\\Panther\\ServerExtension\" />",
                        "position": "after_target",
                        "target": "<extensions>",
                        "warn_if_missing": false
                    },
                    {
                        "file": "phpunit.dist.xml",
                        "content": "        <bootstrap class=\"Symfony\\Component\\Panther\\ServerExtension\" />",
                        "position": "after_target",
                        "target": "<extensions>",
                        "warn_if_missing": false
                    },
                    {
                        "file": "env.test",
                        "content": "PANTHER_APP_ENV=panther\nPANTHER_ERROR_SCREENSHOT_DIR=./var/error-screenshots",
                        "position": "after_target",
                        "target": "SYMFONY_DEPRECATIONS_HELPER=999999",
                        "warn_if_missing": true
                    }
                ],
                "post-install-output": [
                    "  * Install <fg=green>ChromeDriver</> or <fg=green>geckodriver</> with ",
                    "    the package manager of your Operating System.",
                    "    ",
                    "    Alternatively, use Browser Driver Installer:",
                    "",
                    "    <fg=green>composer require --dev dbrekelmans/bdi</>",
                    "    <fg=green>vendor/bin/bdi detect drivers</>",
                    "",
                    "    This step is not necessary when using Docker."
                ]
            },
            "files": [],
            "ref": "49f30fbe57eb3b31e0442015c9b6e5d49ba42cd2"
        }
    }
}
